<html>
<head ng-app="app" ng-controller="DepartmentController">
    <title>Departments</title>

    <head>
<body>

<h2 class="spielbox">Departments
    <img class="imageHeader" src="/app/img/department.png">
    <button ng-click="vm.openModal()" class="label label-success">Add</button>
</h2>

<div class="splitleft">
    <div class="centered">
        <table class="table-department">
            <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Short Name</th>
                <th>Supervisor</th>
                <th>Contact Number</th>
                <th class="small">Organization</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="department in rootDepartments ">
                <td>{{ $index + 1 }}</td>
                <td><a ng-click="vm.openModal(department)">{{ department.fullName }}</a></td>
                <td>{{ department.shortName }}</td>
                <td>{{ department.supervisor }}</td>
                <td>{{ department.contactNumber }}</td>
                <td>
                    <button ng-click="vm.info(department)" class="info-button">info</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="splitright">
    <div class="centered2">
        <div class="tablebox">
            <div class="tablecontent">

                <ul class="nav nav-tabs">
                    <li ng-repeat="tab in vm.tabs track by $index"
                        ng-class="{true:'active',false:''}[tab==vm.activeTabNo]">
                        <a href="javascript:void(0)" ng-click="vm.activeTab(tab)">{{tab.index}} <img style="max-height: 20px" src="/app/img/department.png">
                            <i class="glyphicon glyphicon-remove" ng-click="vm.remove($index)"></i></a>
                    </li>

                </ul>
                <div class="tab-content">

                    <div class="tab-pane" ng-repeat="tab in vm.tabs" ng-class="{true:'active',false:''}[tab==vm.activeTabNo]">
                        <div ng-app="app" class="modal-body" id="modal-body">
                            <form class="form-horizontal" name="contact">
                                <div class="form-group">
                                    <label class="col-lg-3 control-label">Full name:</label>
                                    <div class="col-lg-8">
                                        <input class="form-control" type="text" id="fullName" name="fullName"
                                               ng-model="tab.organization.fullName "></div>
                                </div>

                                <div class="form-group">
                                    <label class="col-lg-3 control-label">Short Name:</label>
                                    <div class="col-lg-8">
                                        <input class="form-control" type="text" id="shortName" name="shortName"
                                               ng-model="tab.organization.shortName"></div>
                                </div>

                                <div class="form-group">
                                    <label class="col-lg-3 control-label">Supervisor:</label>
                                    <div class="col-lg-8">
                                        <input class="form-control" type="text" id="supervisor" name="supervisor"
                                               ng-model="tab.organization.supervisor "></div>
                                </div>

                                <div class="form-group">
                                    <label class="col-lg-3 control-label">Contact Numbers:</label>
                                    <div class="col-lg-8">
                                        <textarea class="form-control" rows="2" name="contactNumbers"
                                                  ng-model="tab.organization.contactNumbers "></textarea>
                                    </div>
                                </div>
                            </form>

                        </div>
                        <button ng-if="vm.activeTabNo!=0" ng-click="vm.openOrganizationModal()" class="info-button">Edit
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>